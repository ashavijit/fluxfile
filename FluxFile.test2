var PROJECT = flux-test
var VERSION = v1.0.0

task build:
    desc: Build the project
    inputs:
        *.go
        go.mod
    outputs:
        flux.exe
    run:
        go build -o flux.exe ./cmd/flux

task test:
    desc: Run tests
    deps: build
    inputs:
        **/*.go
    env:
        GO111MODULE = on
    run:
        go test ./...

task lint:
    desc: Run linter
    inputs:
        **/*.go
    run:
        golangci-lint run

task clean:
    desc: Clean build artifacts
    run:
        rm -rf dist/
        rm -rf .flux/
